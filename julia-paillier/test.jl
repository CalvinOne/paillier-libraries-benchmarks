include("paillier.jl")

p = 148677972634832330983979593310074301486537017973460461278300587514468301043894574906886127642530475786889672304776052879927627556769456140664043088700743909632312483413393134504352834240399191134336344285483935856491230340093391784574980688823380828143810804684752914935441384845195613674104960646037368551517
q = 158741574437007245654463598139927898730476924736461654463975966787719309357536545869203069369466212089132653564188443272208127277664424448947476335413293018778018615899291704693105620242763173357203898195318179150836424196645745308205164116144020613415407736216097185962171301808761138424668335445923774195463

pub = PublicEncryptionKey(p,q)


println()
println("encrypting 829245798456294852")
println()
encrypt(pub,829245798456294852)
total_time = 0.0
for i=1:100
    tic()
    encrypt(pub,829245798456294852)
    total_time += toq()
end
total_time = total_time / 100.0
println("Average time (in miliseconds) over 100 runs: ", total_time * 1000.0)


println()
println("encrypting 148677972634832330983979593310074301486537017973460461278300587514468301043894574906886127642530475786889672304776052879927627556769456140664043088700743909632312483413393134504352834240399191134336344285483935856491230340093391784574980688823380828143810804684752914935441384845195613674104960646037368551517")
println()
encrypt(pub,148677972634832330983979593310074301486537017973460461278300587514468301043894574906886127642530475786889672304776052879927627556769456140664043088700743909632312483413393134504352834240399191134336344285483935856491230340093391784574980688823380828143810804684752914935441384845195613674104960646037368551517)
total_time = 0.0
for i=1:100
    tic()
    encrypt(pub,148677972634832330983979593310074301486537017973460461278300587514468301043894574906886127642530475786889672304776052879927627556769456140664043088700743909632312483413393134504352834240399191134336344285483935856491230340093391784574980688823380828143810804684752914935441384845195613674104960646037368551517)
    total_time += toq()
end
total_time = total_time / 100.0
println("Average time (in miliseconds) over 100 runs: ",total_time * 1000.0)


m = 9601375721773960030826048348718350956180868954786249183055522621772391594913965263068361191091587324151101807311169301869981191762119859865346892157945421998951222949069729370836921713919282283633399891943869137940899827469813950721928452427835958620445001112962904065293585229146038515621140909326729
println()
println("encrypting ", m)
println()
encrypt(pub, m)
total_time = 0.0
for i=1:100
    tic()
    encrypt(pub, m)
    total_time += toq()
end
total_time = total_time / 100.0
println("Average time (in miliseconds) over 100 runs: ",total_time * 1000.0)
